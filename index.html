<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>RoseShop Boutique</title>
<style>
body { font-family: Tahoma, sans-serif; margin:0; background:#f5f5f5; }
header { background:#ff4081; color:white; padding:15px; text-align:center; }
header h1 { margin:0; }
.layout { display:flex; flex-wrap:wrap; padding:20px; gap:20px; }
.controls {
  display:flex; flex-wrap:wrap; gap:10px; margin-bottom:20px; align-items:center;
}
.controls input[type="text"] { flex:1; min-width:150px; padding:5px 8px; border-radius:5px; border:1px solid #ccc; }
.controls select { padding:5px 8px; border-radius:5px; border:1px solid #ccc; width:140px; }

.products { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:20px; flex:3; }
.product {
  background:white; border-radius:12px; padding:15px; text-align:center;
  box-shadow:0 2px 6px rgba(0,0,0,0.1); transition: transform 0.3s, box-shadow 0.3s;
}
.product:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow:0 4px 15px rgba(0,0,0,0.2);
}
.product img { width:100%; border-radius:10px; transition: transform 0.3s; }
.product img:hover { transform: scale(1.05); }
.product h3 { margin:10px 0 5px; font-size:1.1em; }
.product p { font-size:0.9em; color:#333; margin-bottom:10px; }
.product button {
  margin-top:5px; padding:8px 15px; background:#ff4081; color:white;
  border:none; border-radius:6px; cursor:pointer; transition: background 0.3s, transform 0.2s;
}
.product button:hover { background:#e91e63; transform: scale(1.05); }

.cart { flex:1; background:white; padding:20px; border-radius:12px; margin-left:25px;
  height:max-content; box-shadow:0 3px 12px rgba(0,0,0,0.15);
}
.cart h2 { text-align:center; }
.cart ul { list-style:none; padding:0; max-height:300px; overflow-y:auto; }
.cart button {
  margin-top:8px; padding:10px; width:100%; border:none; border-radius:6px; cursor:pointer;
  transition: background 0.3s, transform 0.2s;
}
.cart .btn-checkout:hover { background:#e91e63; transform: scale(1.02); }
.cart .btn-clear:hover { background:#bbb; transform: scale(1.02); }
.totals { margin-top:10px; }
.totals div { display:flex; justify-content:space-between; margin:6px 0; font-size:0.9em; }
footer { text-align:center; padding:10px; background:#eee; margin-top:20px; border-top:1px solid #ccc; }
</style>
</head>
<body>

<header>
<h1>ğŸ›ï¸ RoseShop Boutique</h1>
<p>Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§Ø³Ø¨Ø©</p>
</header>

<div class="layout">

  <!-- Ø§Ù„ÙÙ„Ø§ØªØ± ÙˆØ§Ù„Ø¨Ø­Ø« -->
  <div class="controls">
    <input type="text" id="search" placeholder="Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
    <select id="price-filter">
      <option value="">All prix</option>
      <option value="0-18">â‰¤ 18 D</option>
      <option value="19-30">â‰¥ 19 D</option>
    </select>
    <select id="color-filter">
      <option value="">All Couleurs</option>
      <option value="Noir">Noir</option>
      <option value="Blanc">Blanc</option>
      <option value="Rouge">Rouge</option>
      <option value="Bleu">Bleu</option>
    </select>
    <select id="sort-filter">
      <option value="">Ordre</option>
      <option value="price-asc">Croissant</option>
      <option value="price-desc">Decroissant</option>
      <option value="name-asc">Nom A â†’ Z</option>
      <option value="name-desc">Nom Z â†’ A</option>
    </select>
  </div>

  <!-- Produits -->
  <div class="products" id="product-list"></div>

  <!-- Panier -->
  <aside class="cart" aria-label="Panier">
    <h2>Panier</h2>
    <ul id="cart-items"></ul>

    <div class="totals">
      <div><span>Total:</span><strong><span id="total">0</span> D</strong></div>
      <div><span>TVA 19%:</span><strong><span id="tva">0</span> D</strong></div>
      <hr/>
      <div class="grand"><span>Total Final:</span><strong><span id="grand-total">0</span> D</strong></div>
    </div>

    <button class="btn-checkout" id="checkout">Valider</button>
    <button class="btn-clear" id="clear-cart">Supprimer</button>
  </aside>

</div>

<footer>
<small>Â©2025 RoseShop Boutique</small>
</footer>

<script>
// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¹ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­Ù„ÙŠØ©
const products = [
    {name:"Emballage Noir", price:18, image:"noir.jpg", color:"Noir"},
    {name:"Emballage Blanc", price:18, image:"blanc.jpg", color:"Blanc"},
    {name:"Emballage Rouge", price:18, image:"rouge.jpg", color:"Rouge"},
    {name:"Emballage Bleu", price:20, image:"bleu.jpg", color:"Bleu"}
];

let cart = JSON.parse(localStorage.getItem('cart')) || [];
let total = parseFloat(localStorage.getItem('total')) || 0;

function addToCart(name, price){
    cart.push({name, price});
    total+=price;
    saveCart();
    updateCart();
    alert(name + " ØªÙ…Øª Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø³Ù„Ø©");
}

function updateCart(){
    const cartItems=document.getElementById('cart-items');
    cartItems.innerHTML='';
    cart.forEach((item,index)=>{
        const li=document.createElement('li');
        li.textContent=`${item.name} - ${item.price} D`;
        const removeBtn=document.createElement('button');
        removeBtn.textContent='âŒ';
        removeBtn.style.marginLeft='10px';
        removeBtn.onclick=()=>{ removeFromCart(index); };
        li.appendChild(removeBtn);
        cartItems.appendChild(li);
    });
    const tva=total*0.19;
    document.getElementById('total').textContent=total.toFixed(2);
    document.getElementById('tva').textContent=tva.toFixed(2);
    document.getElementById('grand-total').textContent=(total+tva).toFixed(2);
}

function removeFromCart(index){
    total-=cart[index].price;
    cart.splice(index,1);
    saveCart();
    updateCart();
}

function saveCart(){
    localStorage.setItem('cart',JSON.stringify(cart));
    localStorage.setItem('total',total);
}

document.getElementById('clear-cart').addEventListener('click',()=>{
    cart=[]; total=0;
    saveCart(); updateCart();
});

function displayProducts(list){
    const productList = document.getElementById('product-list');
    productList.innerHTML='';
    list.forEach(p=>{
        const div = document.createElement('div');
        div.className='product';
        div.innerHTML=`
            <img src="${p.image}" alt="${p.name}">
            <h3>${p.name}</h3>
            <p>${p.price} D</p>
            <button onclick="addToCart('${p.name}',${p.price})">Ajouter au panier</button>
        `;
        productList.appendChild(div);
    });
}

function filterProducts() {
    const searchText = document.getElementById('search').value.toLowerCase();
    const priceVal = document.getElementById('price-filter').value;
    const colorVal = document.getElementById('color-filter').value;
    const sortVal = document.getElementById('sort-filter').value;

    let filtered = products.filter(p => p.name.toLowerCase().includes(searchText));

    if(priceVal){
        const [min,max] = priceVal.split('-').map(Number);
        filtered = filtered.filter(p => p.price >= min && p.price <= max);
    }

    if(colorVal){
        filtered = filtered.filter(p => p.color === colorVal);
    }

    if(sortVal){
        if(sortVal === 'price-asc') filtered.sort((a,b)=>a.price-b.price);
        else if(sortVal === 'price-desc') filtered.sort((a,b)=>b.price-a.price);
        else if(sortVal === 'name-asc') filtered.sort((a,b)=>a.name.localeCompare(b.name));
        else if(sortVal === 'name-desc') filtered.sort((a,b)=>b.name.localeCompare(a.name));
    }

    displayProducts(filtered);
}

document.getElementById('search').addEventListener('input', filterProducts);
document.getElementById('price-filter').addEventListener('change', filterProducts);
document.getElementById('color-filter').addEventListener('change', filterProducts);
document.getElementById('sort-filter').addEventListener('change', filterProducts);

window.onload = ()=>{
    filterProducts();
    updateCart();
};
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyXXXX", // Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ù…ÙØªØ§Ø­Ùƒ Ù…Ù† Firebase
    authDomain: "roseshop.firebaseapp.com",
    projectId: "roseshop",
    storageBucket: "roseshop.appspot.com",
    messagingSenderId: "1234567890",
    appId: "1:1234567890:web:abcdef"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Ù„Ù…Ø§ ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡
  document.getElementById('checkout').addEventListener('click', async () => {
    const name = prompt("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:");
    const email = prompt("Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:");

    if (!name || !email) {
      alert("ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¥ÙŠÙ…ÙŠÙ„");
      return;
    }

    try {
      await addDoc(collection(db, "clients"), {
        name: name,
        email: email,
        cart: cart,
        total: total,
        date: new Date().toISOString()
      });
      alert("ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª âœ…");
      cart = [];
      total = 0;
      saveCart();
      updateCart();
    } catch (e) {
      console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸: ", e);
    }
  });
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDbEHFvX2fzhCwpZZAyGW2IGcudRZ_SV-w",
    authDomain: "roseshop-9471d.firebaseapp.com",
    projectId: "roseshop-9471d",
    storageBucket: "roseshop-9471d.firebasestorage.app",
    messagingSenderId: "291783054639",
    appId: "1:291783054639:web:0628582f9f4f41a8bb3dda",
    measurementId: "G-FP7CWDFGP2"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</body>
</html>


